<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sigvardsson Story App</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <div class="container">
        <nav class="navbar">
            <div class="logo-nav">
                <h1>Magiska Berättelser</h1>
            </div>
            <div class="login-nav">
                <a href="#" class="login-button" onclick="showLoginModal()">Logga in</a>
            </div>
        </nav>

        <section class="hero">
            <h1>Magiska berättelser för ditt barn</h1>
            <p class="tagline">Vi skapar personliga AI-genererade berättelser som gör ditt barn till huvudpersonen</p>
            <button class="primary-button" onclick="showSignupModal()" style="max-width: 300px; margin: 2rem auto 0;">Kom igång</button>
        </section>

        <main class="main-content">
            <div class="welcome-section">
                <h2>Om oss</h2>
                <p class="intro-text">
                    Vi är ett svenskt par som ville ge andra föräldrars barn 
                    möjligheten att få vackra, personliga berättelser att minnas för alltid.
                </p>
                <p class="intro-text">
                    Varje berättelse skapas unikt baserat på ditt barns personlighet, favoriter och speciella minnen.
                </p>
            </div>
        </main>

        <!-- Login Modal -->
        <div id="loginModal" class="modal" style="display: none;">
            <div class="modal-content">
                <span class="close" onclick="hideLoginModal()">&times;</span>
                <div class="login-form">
                    <h3>Logga in</h3>
                    <form id="loginForm">
                        <div class="form-group">
                            <label for="loginEmail">E-post</label>
                            <input type="email" id="loginEmail" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Lösenord</label>
                            <input type="password" id="loginPassword" name="password" required>
                        </div>
                        <button type="submit" class="primary-button">Logga in</button>
                        <p style="text-align: center; margin-top: 1rem; color: #6c757d;">
                            Inget konto? <a href="#" onclick="showSignupModal()" style="color: var(--primary-color);">Skapa ett konto</a>
                        </p>
                    </form>
                </div>
            </div>
        </div>

        <!-- Signup Modal -->
        <div id="signupModal" class="modal" style="display: none;">
            <div class="modal-content">
                <span class="close" onclick="hideSignupModal()">&times;</span>
                <div class="login-form">
                    <h3>Skapa ett konto</h3>
                    <form id="signupForm">
                        <div class="form-group">
                            <label for="firstName">Namn</label>
                            <input type="text" id="firstName" name="firstName" required>
                        </div>
                        <div class="form-group">
                            <label for="lastName">Efternamn</label>
                            <input type="text" id="lastName" name="lastName" required>
                        </div>
                        <div class="form-group">
                            <label for="signupEmail">Mejladress</label>
                            <input type="email" id="signupEmail" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="signupPassword">Lösenord</label>
                            <input type="password" id="signupPassword" name="password" required>
                        </div>
                        <div class="form-group">
                            <label for="confirmPassword">Upprepa lösenord</label>
                            <input type="password" id="confirmPassword" name="confirmPassword" required>
                        </div>
                        <button type="submit" class="primary-button">Skapa konto</button>
                        <p style="text-align: center; margin-top: 1rem; color: #6c757d;">
                            Har redan ett konto? <a href="#" onclick="showLoginModal()" style="color: var(--primary-color);">Logga in</a>
                        </p>
                    </form>
                </div>
            </div>
        </div>

        <!-- Story Creation Modal -->
        <div id="storyModal" class="modal" style="display: none;">
            <div class="modal-content">
                <span class="close" onclick="hideStoryModal()">&times;</span>
                <div class="login-form">
                    <h3>Skapa en magisk berättelse</h3>
                    <p class="intro-text" style="text-align: center; margin-bottom: 2rem;">
                        Fyll i informationen nedan så skapar vi en personlig berättelse för ditt barn.
                    </p>
                    
                    <form id="storyForm" onsubmit="handleStoryForm(event)">
                        <div class="form-group">
                            <label for="childName">Barnets namn *</label>
                            <input type="text" id="childName" name="childName" required>
                        </div>

                        <div class="form-group">
                            <label for="childAge">Ålder *</label>
                            <select id="childAge" name="childAge" required>
                                <option value="">Välj ålder</option>
                                <option value="3">3 år</option>
                                <option value="4">4 år</option>
                                <option value="5">5 år</option>
                                <option value="6">6 år</option>
                                <option value="7">7 år</option>
                                <option value="8">8 år</option>
                                <option value="9">9 år</option>
                                <option value="10">10 år</option>
                                <option value="11">11 år</option>
                                <option value="12">12 år</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="childHeight">Ungefär längd</label>
                            <input type="text" id="childHeight" name="childHeight" placeholder="t.ex. 120 cm">
                        </div>

                        <div class="form-group">
                            <label for="favoriteFood">Favoritmat *</label>
                            <input type="text" id="favoriteFood" name="favoriteFood" placeholder="t.ex. pannkakor, köttbullar" required>
                        </div>

                        <div class="form-group">
                            <label for="favoriteActivity">Favoritaktivitet *</label>
                            <input type="text" id="favoriteActivity" name="favoriteActivity" placeholder="t.ex. måla, spela fotboll, läsa böcker" required>
                        </div>

                        <div class="form-group">
                            <label for="bestMemory">Bästa minne tillsammans *</label>
                            <textarea id="bestMemory" name="bestMemory" placeholder="Beskriv ett speciellt minne ni delar tillsammans..." required></textarea>
                        </div>

                        <div class="form-group">
                            <label for="personality">Barnets personlighet</label>
                            <textarea id="personality" name="personality" placeholder="Beskriv ditt barns personlighet, vad som gör hen unik..."></textarea>
                        </div>

                        <button type="submit" class="primary-button">Skapa berättelse</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <script src="supabase-config.js"></script>
    <script src="script.js"></script>
</body>
</html>